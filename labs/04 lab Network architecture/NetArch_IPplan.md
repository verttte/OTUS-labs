### Схема лабораторного стенда

![image](https://github.com/verttte/otus-labs/assets/165086553/8165f3be-deb6-49b4-80a1-b0376871103b)

### Адресное пространство для лабораторного стенда.

10.10.50.0/24 - сеть Loopback интерфейсов

10.10.100.0/24 - сеть для магистральных poin-to-point стыков  
 - 10.10.100.0/30 - Москва - Киторн  
 - 10.10.100.4/30 - Москва - Ламас  
 - 10.10.100.8/30 - Киторн - Ламас  
 - 10.10.100.12/30 - Триада - Киторн  
 - 10.10.100.16/30 - Триада - Ламас  
 - 10.10.100.20/30 - Триада - С.-Петербург R24-R18  
 - 10.10.100.24/30 - Триада - С.-Петербург R26-R18  
 - 10.10.100.28/30 - Триада - Лабытнаги  
 - 10.10.100.32/30 - Триада - Чокурдах R25-R28  
 - 10.10.100.36/30 - Триада - Чокурдах R26-R28  

10.10.200.0/21 - сеть для локальных poin-to-point стыков  
 - 10.10.200.0/24 - Москва  
   - 10.10.200.0/30 - R14-R19  
   - 10.10.200.4/30 - R14-R12  
   - 10.10.200.8/30 - R14-R13  
   - 10.10.200.12/30 - R15-R12  
   - 10.10.200.16/30 - R15-R13  
   - 10.10.200.20/30 - R15-R20  
   - 10.10.200.24/30 - R15-R14  
   - 10.10.200.28/30 - R12-R13  
 - 10.10.201.0/24 - Триада  
   - 10.10.201.0/30 - R23-R24  
   - 10.10.201.4/30 - R23-R25  
   - 10.10.201.8/30 - R26-R24  
   - 10.10.201.12/30 - R26-R25  
 - 10.10.202.0/24 - С.-Петербург  
   - 10.10.202.0/30 - R18-R17  
   - 10.10.202.4/30 - R18-R16  
   - 10.10.202.8/30 - R16-R32  
   - 10.10.202.12/30 - R17-SW9  
   - 10.10.202.16/30 - R17-SW10  
   - 10.10.202.20/30 - R16-SW9  
   - 10.10.202.24/30 - R16-SW10  

172.16.0.0/21 - сеть управления оборудованием  
 - 172.16.0.0/24 - Москва  
 - 172.16.1.0/24 - С.-Петербург  
 - 172.16.2.0/24 - Чокурдах  

Пользовательские сети в Москве  
 - 192.168.10.0/24  
 - 192.168.70.0/24  

Пользовательские сети в С.-Петербурге  
 - 192.168.80.0/24  
 - 192.168.90.0/24  

Пользовательские сети в Чокурдахе  
 - 192.168.30.0/24  
 - 192.168.31.0/24  

### Каждый VPC в каждом офисе находится в своей VLAN.  

Москва  
 - VLAN 10 - VPC1  
 - VLAN 70 - VPC7  

С.-Петербург  
 - VLAN 80 - VPC8  
 - VLAN 90 - VPC9  

Чокурдах  
 - VLAN 30 - VPC30  
 - VLAN 31 - VPC31  

### VLAN/Loopback interface управления для сетевых устройств  

Loopback interface - IP-адрес из соответствующей подсети, последний октет соответствует номеру роутера на схеме

VLAN 2 - VLAN управления коммутаторами  

### Настройка сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано  

Двойные линки между SW4, SW5 и между SW9, SW10 объединены в порт-ченнел. На коммутаторах настроен протокол Spanning Tree, указан корневой мост и вторичный корневой мост. На роутерах в Мск и СПб, терминирующих VLAN, настроен протокол GLBP для резервирования шлюза и балансировки трафика.
